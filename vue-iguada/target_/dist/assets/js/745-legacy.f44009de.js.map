{"version":3,"file":"assets/js/745-legacy.f44009de.js","mappings":"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","sources":["webpack://work/./src/components/manager/BusManage.vue?8366","webpack://work/src/components/manager/BusManage.vue","webpack://work/./src/components/manager/BusManage.vue?3b23","webpack://work/./src/components/manager/BusManage.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"back\"},[_c('div',{staticClass:\"info\"},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"校车管理\")])],1)],1),_c('div',{staticClass:\"search\"},[_c('el-date-picker',{staticClass:\"date\",attrs:{\"type\":\"date\",\"placeholder\":\"开始日期\"},model:{value:(_vm.start),callback:function ($$v) {_vm.start=$$v},expression:\"start\"}}),_c('span',[_vm._v(\"到\")]),_c('el-date-picker',{staticClass:\"date\",attrs:{\"type\":\"date\",\"placeholder\":\"结束日期\"},model:{value:(_vm.end),callback:function ($$v) {_vm.end=$$v},expression:\"end\"}}),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\",\"size\":\"medium\"},on:{\"click\":_vm.search}},[_vm._v(\"搜索班次\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"medium\"},on:{\"click\":function($event){_vm.showAdd=true}}},[_vm._v(\"增加班次\")])],1),_c('div',[_c('el-table',{attrs:{\"data\":_vm.times}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"班次编号\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"time\",\"label\":\"出发时间\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"start\",\"label\":\"出发车站\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"end\",\"label\":\"目的车站\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"number\",\"label\":\"剩余空位\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"el-icon-delete-solid\",attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.del(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1)],1),_c('div',{staticClass:\"page\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.totalPages,\"current-page\":_vm.currentPage},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"current-change\":_vm.getPageNum}})],1),_c('el-dialog',{attrs:{\"visible\":_vm.showAdd,\"width\":\"30%\",\"center\":\"\",\"close-on-click-modal\":false,\"lock-scroll\":false,\"before-close\":_vm.clear},on:{\"update:visible\":function($event){_vm.showAdd=$event}}},[_c('div',{staticClass:\"add\"},[_c('h2',[_vm._v(\"新增校车班次\")]),_c('el-date-picker',{staticClass:\"add-date\",attrs:{\"type\":\"date\",\"placeholder\":\"发车日期\"},model:{value:(_vm.newDate),callback:function ($$v) {_vm.newDate=$$v},expression:\"newDate\"}}),_c('span',[_vm._v(\"--\")]),_c('el-time-select',{staticClass:\"add-date\",attrs:{\"picker-options\":{start: '00:00',step: '1:00',end: '24:00'},\"placeholder\":\"发车时间\"},model:{value:(_vm.newTime),callback:function ($$v) {_vm.newTime=$$v},expression:\"newTime\"}}),_c('el-select',{staticClass:\"input\",attrs:{\"placeholder\":\"始发站\"},model:{value:(_vm.newStart),callback:function ($$v) {_vm.newStart=$$v},expression:\"newStart\"}},[_c('el-option',{attrs:{\"label\":\"长安校区\",\"value\":\"长安校区\"}}),_c('el-option',{attrs:{\"label\":\"友谊校区\",\"value\":\"友谊校区\"}})],1),_c('el-select',{staticClass:\"input\",attrs:{\"placeholder\":\"终点站\"},model:{value:(_vm.newEnd),callback:function ($$v) {_vm.newEnd=$$v},expression:\"newEnd\"}},[_c('el-option',{attrs:{\"label\":\"长安校区\",\"value\":\"长安校区\"}}),_c('el-option',{attrs:{\"label\":\"友谊校区\",\"value\":\"友谊校区\"}})],1),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"medium\"},on:{\"click\":_vm.add}},[_vm._v(\"增加班次\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"back\">\r\n        <div class=\"info\">\r\n            <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n                <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n                <el-breadcrumb-item>校车管理</el-breadcrumb-item>\r\n            </el-breadcrumb>\r\n        </div>\r\n        <div class=\"search\">\r\n            <el-date-picker class=\"date\" v-model=\"start\" type=\"date\" placeholder=\"开始日期\"></el-date-picker>\r\n            <span>到</span>\r\n            <el-date-picker class=\"date\" v-model=\"end\" type=\"date\" placeholder=\"结束日期\"></el-date-picker>\r\n            <el-button type=\"primary\" icon=\"el-icon-search\" size=\"medium\" @click=\"search\">搜索班次</el-button>\r\n            <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"medium\" @click=\"showAdd=true\">增加班次</el-button>\r\n        </div>\r\n        <div>\r\n            <el-table :data=\"times\">\r\n                <el-table-column prop=\"id\" label=\"班次编号\" width=\"180\"></el-table-column>\r\n                <el-table-column prop=\"time\" label=\"出发时间\" width=\"180\"></el-table-column>\r\n                <el-table-column prop=\"start\" label=\"出发车站\" width=\"100\"></el-table-column>\r\n                <el-table-column prop=\"end\" label=\"目的车站\" width=\"180\"></el-table-column>\r\n                <el-table-column prop=\"number\" label=\"剩余空位\" width=\"100\"></el-table-column>\r\n                <el-table-column label=\"操作\" width=\"100\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button @click=\"del(scope.row.id)\" type=\"text\" size=\"small\" class=\"el-icon-delete-solid\">删除</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n        <div class=\"page\">\r\n            <el-pagination  background layout=\"prev, pager, next\" :total=\"totalPages\" :current-page.sync=\"currentPage\" @current-change=\"getPageNum\">\r\n            </el-pagination>\r\n        </div>\r\n        <el-dialog :visible.sync=\"showAdd\" width=\"30%\" center :close-on-click-modal='false' :lock-scroll=\"false\" :before-close=\"clear\">\r\n            <div class=\"add\">\r\n                <h2>新增校车班次</h2>\r\n                <el-date-picker class=\"add-date\" v-model=\"newDate\" type=\"date\" placeholder=\"发车日期\"></el-date-picker>\r\n                <span>--</span>\r\n                <el-time-select class=\"add-date\" v-model=\"newTime\" :picker-options=\"{start: '00:00',step: '1:00',end: '24:00'}\" placeholder=\"发车时间\"></el-time-select>\r\n                <el-select class=\"input\" v-model=\"newStart\" placeholder=\"始发站\">\r\n                    <el-option label=\"长安校区\" value=\"长安校区\"></el-option>\r\n                    <el-option label=\"友谊校区\" value=\"友谊校区\"></el-option>\r\n                </el-select>\r\n                <el-select class=\"input\" v-model=\"newEnd\" placeholder=\"终点站\">\r\n                    <el-option label=\"长安校区\" value=\"长安校区\"></el-option>\r\n                    <el-option label=\"友谊校区\" value=\"友谊校区\"></el-option>\r\n                </el-select>\r\n                <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"medium\" @click=\"add\">增加班次</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data(){\r\n        return{\r\n            start:'',\r\n            end:'',\r\n            saveStart:'',\r\n            saveEnd:'',\r\n            showAdd:false,\r\n            totalPages:100,\r\n            currentPage:1,\r\n            newDate:'',\r\n            newTime:'',\r\n            newStart:'',\r\n            newEnd:'',\r\n            times:[\r\n            ]\r\n        }\r\n    },\r\n    methods:{\r\n        goto(path){\r\n            this.$router.push({\r\n                path:path\r\n            })\r\n        },\r\n        getDate(value){\r\n            if(value==='')return '';\r\n            let time = new Date(value);\r\n            return time.getFullYear()+'/'+(time.getMonth()+1)+'/'+time.getDate();\r\n        },\r\n        getPageNum(value){\r\n            this.getPage(this.currentPage);\r\n        },\r\n        getTime(){\r\n            return this.getDate(this.newDate)+' '+this.newTime;\r\n        },\r\n        add(){\r\n            if(this.newDate===''||this.newTime===''||this.newStart==''||this.newEnd==''){\r\n                this.$message({\r\n                    message:'输入不能为空!',\r\n                    type:'warning'\r\n                })\r\n            }else if(this.newStart==this.newEnd){\r\n                this.$message({\r\n                    message:'起点不能和终点一样!',\r\n                    type:'warning'\r\n                })\r\n            }else{\r\n                this.$axios({\r\n                    method:'POST',\r\n                    url:'/manager/addTime',\r\n                    data:{\r\n                        page:this.currentPage,\r\n                        number:8,\r\n                        startTime:this.getDate(this.saveStart),\r\n                        endTime:this.getDate(this.saveEnd),\r\n                        time:this.getTime(),\r\n                        start:this.newStart,\r\n                        end:this.newEnd\r\n                    }\r\n                }).then(res=>{\r\n                    let data = res.data;\r\n                    if(data.status==1){\r\n                        this.times = data.times;\r\n                        this.totalPages = data.pages*10;\r\n                        this.currentPage = data.currentPage;\r\n                        this.newDate='';\r\n                        this.newTime='';\r\n                        this.newStart='';\r\n                        this.newEnd='';\r\n                        this.showAdd=false;\r\n                        this.$message({\r\n                            message:\"添加成功\",\r\n                            type:'success'\r\n                        });\r\n                    }else if(data.status==0){\r\n                        this.$message({\r\n                            message:'日期输入错误!',\r\n                            type:'warning'\r\n                        })\r\n                    }else if(data.status==2){\r\n                        this.$store.state.status = 2;\r\n                        this.$store.dispatch(\"setIsManager\",false);\r\n                        this.goto(\"/user/userInfo\");\r\n                    }else{\r\n                        this.$store.state.status = 1;\r\n                        this.$store.state.hasLogin = false;\r\n                        this.$store.state.isManager = false;\r\n                        this.$store.state.userName = '';\r\n                        this.$store.state.email = '';\r\n                        this.$store.state.userId = '';\r\n                        localStorage.clear();\r\n                        this.goto('/');\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        del(id){\r\n            this.$axios({\r\n                method:'POST',\r\n                url:'/manager/delTime',\r\n                data:{\r\n                    id:id,\r\n                    page:this.currentPage,\r\n                    number:8,\r\n                    startTime:this.getDate(this.saveStart),\r\n                    endTime:this.getDate(this.saveEnd),\r\n                }\r\n            }).then(res=>{\r\n                let data = res.data;\r\n                if(data.status==1){\r\n                    this.times = data.times;\r\n                    this.totalPages = data.pages*10;\r\n                    this.currentPage = data.currentPage;\r\n                    this.$message({\r\n                        message:\"删除成功,校车班次id为\"+id,\r\n                        type:'success'\r\n                    });\r\n                }else if(data.status==0){\r\n                    this.$message.error('删除失败!');\r\n                }else if(data.status==2){\r\n                    this.$store.state.status = 2;\r\n                    this.$store.dispatch(\"setIsManager\",false);\r\n                    this.goto(\"/user/userInfo\");\r\n                }else{\r\n                    this.$store.state.status = 1;\r\n                    this.$store.state.hasLogin = false;\r\n                    this.$store.state.isManager = false;\r\n                    this.$store.state.userName = '';\r\n                    this.$store.state.email = '';\r\n                    this.$store.state.userId = '';\r\n                    localStorage.clear();\r\n                    this.goto('/');\r\n                }\r\n            })\r\n        },\r\n        search(){\r\n            this.saveStart = this.start;\r\n            this.saveEnd = this.end;\r\n            this.getPage(1);\r\n        },\r\n        getPage(currentPage){\r\n            this.$axios({\r\n                method:'GET',\r\n                url:'/manager/searchTimes',\r\n                params:{\r\n                    page:currentPage,\r\n                    number:8,\r\n                    startTime:this.getDate(this.saveStart),\r\n                    endTime:this.getDate(this.saveEnd)\r\n                }\r\n            }).then(res=>{\r\n                let data = res.data;\r\n                if(data.status==1){\r\n                    this.times = data.times;\r\n                    this.totalPages = data.pages*10;\r\n                    this.currentPage = data.currentPage;\r\n                }else if(data.status==0){\r\n                    this.$message({\r\n                        message:'日期输入有误!',\r\n                        type:'warning'\r\n                    })\r\n                }else if(data.status==2){\r\n                    this.$store.state.status = 2;\r\n                    this.$store.dispatch(\"setIsManager\",false);\r\n                    this.goto(\"/user/userInfo\");\r\n                }else{\r\n                    this.$store.state.status = 1;\r\n                    this.$store.state.hasLogin = false;\r\n                    this.$store.state.isManager = false;\r\n                    this.$store.state.userName = '';\r\n                    this.$store.state.email = '';\r\n                    this.$store.state.userId = '';\r\n                    localStorage.clear();\r\n                    this.goto('/');\r\n                }\r\n            })\r\n        },\r\n        clear(done){\r\n            this.newDate='';\r\n            this.newTime='';\r\n            this.newStart='';\r\n            this.newEnd='';\r\n            done();\r\n        }\r\n    },\r\n    mounted(){\r\n        this.getPage(this.currentPage);\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.back{\r\n    width: 100%;\r\n    margin:0 auto;\r\n    height: 680px;\r\n    position: relative;\r\n}\r\n.info{\r\n    margin-top:10px;\r\n    margin-bottom: 10px;\r\n    padding-left: 10px;\r\n}\r\n.search{\r\n    margin-top: 20px;\r\n    margin-bottom: 10px;\r\n}\r\n.search>.date:first-child{\r\n    margin-left: 100px;\r\n}\r\n.search > .el-button{\r\n    margin-left: 40px;\r\n}\r\n.search > span{\r\n    margin-left: 10px;\r\n    margin-right: 10px;\r\n}\r\n.date{\r\n    width: 150px !important;\r\n}\r\n\r\n.page{\r\n    width: 100%;\r\n    text-align: center;\r\n    position: absolute;\r\n    bottom: 0;\r\n}\r\n/* 添加班次对话框 */\r\n.add h2{\r\n    font-size: 24px;\r\n}\r\n.add>span{\r\n    margin-left: 10px;\r\n    margin-right: 10px;\r\n}\r\n.add-date{\r\n    width: 150px !important;\r\n}\r\n.add-date:nth-child(2){\r\n    margin-left: 32px;\r\n    margin-top: 10px;\r\n    margin-bottom: 10px;\r\n}\r\n.add > .el-button,.input{\r\n    margin-bottom: 10px;\r\n    margin-left: 32px;\r\n    width: 336px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BusManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BusManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BusManage.vue?vue&type=template&id=a59ce67a&scoped=true&\"\nimport script from \"./BusManage.vue?vue&type=script&lang=js&\"\nexport * from \"./BusManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BusManage.vue?vue&type=style&index=0&id=a59ce67a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a59ce67a\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","path","_v","model","value","callback","$$v","start","expression","end","on","search","$event","showAdd","times","scopedSlots","_u","key","fn","scope","del","row","id","totalPages","currentPage","getPageNum","clear","newDate","step","newTime","newStart","newEnd","add","staticRenderFns","saveStart","saveEnd","methods","message","type","method","url","data","page","number","startTime","endTime","time","then","localStorage","params","done","component"],"sourceRoot":""}