{"version":3,"file":"assets/js/753.3c660dbd.js","mappings":"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","sources":["webpack://work/./src/components/Index.vue?44b7","webpack://work/src/components/Index.vue","webpack://work/./src/components/Index.vue?266d","webpack://work/./src/components/Index.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"back\"},[_c('div',{staticClass:\"nav\"},[_c('img',{attrs:{\"src\":require('../assets/img/logo.png')}}),(_vm.$store.state.hasLogin==false)?_c('div',[_c('span',{staticClass:\"click\",on:{\"click\":function($event){_vm.showLogin=true;_vm.showRegister=false;}}},[_vm._v(\"登录\")]),_c('span',[_vm._v(\"  或  \")]),_c('span',{staticClass:\"click\",on:{\"click\":function($event){_vm.showRegister=true;_vm.showLogin=false;}}},[_vm._v(\"注册\")])]):_c('div',[_c('span',[_vm._v(\"欢迎您!\"+_vm._s(_vm.userName))]),_c('span',{staticClass:\"click\",on:{\"click\":function($event){return _vm.logout()}}},[_vm._v(\"  退出登录\")])])]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"clearfix\"},[_c('div',{staticClass:\"menu-child\"},[_c('i',{staticClass:\"el-icon-user-solid\"}),_c('h2',[_vm._v(\"个人主页\")]),_c('p',[_vm._v(\"包含个人信息，预约信息等信息，提供预约校车，留言反馈，查看校车班次等服务\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.goto('/user/userInfo')}}},[_vm._v(\"点击进入\")])],1),_c('div',{staticClass:\"menu-child\"},[_c('i',{staticClass:\"el-icon-s-promotion\"}),_c('h2',[_vm._v(\"预约校车\")]),_c('p',[_vm._v(\"可进行查询当前可预约校车，校车剩余座位，预约校车等操作\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.goto('/user/busTime')}}},[_vm._v(\"点击进入\")])],1),_c('div',{staticClass:\"menu-child\"},[_c('i',{staticClass:\"el-icon-message-solid\"}),_c('h2',[_vm._v(\"留言反馈\")]),_c('p',[_vm._v(\"留下您宝贵的意见，您的建议是我们不断前进的最大动力！\")]),_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"点击进入\")])],1),_c('div',{staticClass:\"menu-child\"},[_c('i',{staticClass:\"el-icon-s-platform\"}),_c('h2',[_vm._v(\"管理系统\")]),_c('p',[_vm._v(\"具有管理员权限的用户可以进入后台对用户，校车班次表等进行管理\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.goto('/manager/busManage')}}},[_vm._v(\"点击进入\")])],1)])]),_c('div',{staticClass:\"info clearfix\"},[_c('div',{staticClass:\"time\"},[_c('h2',[_vm._v(\"今日校车排班\")]),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.timeLoading),expression:\"timeLoading\"}],attrs:{\"data\":_vm.times,\"row-class-name\":_vm.tableRowClassName,\"max-height\":\"300\",\"header-cell-style\":{background:'#F1F7FF'}}},[_c('el-table-column',{attrs:{\"prop\":\"time\",\"label\":\"出发时间\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"start\",\"label\":\"出发车站\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"end\",\"label\":\"目的车站\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"number\",\"label\":\"剩余空位\",\"width\":\"100\"}})],1)],1),_c('div',{staticClass:\"notice\"},[_c('h2',[_vm._v(\"公告通知\")]),_c('el-carousel',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.noticeLoading),expression:\"noticeLoading\"}],attrs:{\"indicator-position\":\"outside\",\"height\":\"270px\"}},_vm._l((_vm.notices),function(notice){return _c('el-carousel-item',{key:notice.id},[_c('h3',{staticClass:\"notice-title\"},[_vm._v(_vm._s(notice.title))]),_c('p',{staticClass:\"notice-content\"},[_vm._v(\"    \"+_vm._s(notice.content))])])}),1)],1)]),_c('div',{staticClass:\"bottom\"},[_c('div',{staticClass:\"bottom-logo\"},[_c('img',{staticClass:\"logo2\",attrs:{\"src\":require('../assets/img/logo2.png')}})]),_c('div',{staticClass:\"line\"}),_vm._m(0),_c('div',{staticClass:\"bottom-logo2\"},[_c('img',{staticClass:\"logo3\",attrs:{\"src\":require('../assets/img/logo3.png')}})])]),_c('el-dialog',{attrs:{\"visible\":_vm.showLogin,\"width\":\"30%\",\"center\":\"\",\"close-on-click-modal\":false,\"before-close\":_vm.beforeClose,\"lock-scroll\":false},on:{\"update:visible\":function($event){_vm.showLogin=$event}}},[_c('div',{staticClass:\"login\"},[_c('h2',[_vm._v(\"登录账号\")]),_c('el-input',{attrs:{\"prefix-icon\":\"el-icon-user\",\"placeholder\":\"请输入用户名\",\"maxlength\":\"16\"},model:{value:(_vm.userName),callback:function ($$v) {_vm.userName=$$v},expression:\"userName\"}}),_c('el-input',{attrs:{\"prefix-icon\":\"el-icon-lock\",\"placeholder\":\"请输入密码\",\"show-password\":\"\",\"maxlength\":\"16\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('p',{staticClass:\"forget click\",on:{\"click\":function($event){return _vm.goto('/reset')}}},[_vm._v(\"忘记密码？\")]),_c('p',[_vm._v(_vm._s(_vm.loginError))]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.login}},[_vm._v(\"登录\")]),_c('el-button',{on:{\"click\":function($event){_vm.showRegister=true;_vm.showLogin=false;_vm.clearData();}}},[_vm._v(\"注册账号\")]),_c('span',[_vm._v(\"登录注册即代表同意i瓜大《用户协议》和《隐私协议》\")])],1)]),_c('el-dialog',{attrs:{\"visible\":_vm.showRegister,\"width\":\"30%\",\"center\":\"\",\"close-on-click-modal\":false,\"before-close\":_vm.beforeClose,\"lock-scroll\":false},on:{\"update:visible\":function($event){_vm.showRegister=$event}}},[_c('div',{staticClass:\"register\"},[_c('h2',[_vm._v(\"注册账号\")]),_c('el-input',{attrs:{\"prefix-icon\":\"el-icon-user\",\"placeholder\":\"请输入用户名\",\"maxlength\":\"16\"},model:{value:(_vm.userName),callback:function ($$v) {_vm.userName=$$v},expression:\"userName\"}}),_c('el-input',{attrs:{\"prefix-icon\":\"el-icon-s-promotion\",\"placeholder\":\"请输入学工号\",\"maxlength\":\"16\"},model:{value:(_vm.userId),callback:function ($$v) {_vm.userId=$$v},expression:\"userId\"}}),_c('el-input',{attrs:{\"prefix-icon\":\"el-icon-message\",\"placeholder\":\"请输入邮箱\",\"maxlength\":\"16\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('el-input',{attrs:{\"prefix-icon\":\"el-icon-lock\",\"placeholder\":\"请输入密码\",\"show-password\":\"\",\"maxlength\":\"16\"},model:{value:(_vm.registerPassword),callback:function ($$v) {_vm.registerPassword=$$v},expression:\"registerPassword\"}}),_c('el-input',{attrs:{\"prefix-icon\":\"el-icon-lock\",\"placeholder\":\"请再次输入密码\",\"show-password\":\"\",\"maxlength\":\"16\"},model:{value:(_vm.passwordAgain),callback:function ($$v) {_vm.passwordAgain=$$v},expression:\"passwordAgain\"}}),_c('p',[_vm._v(_vm._s(_vm.registerError))]),_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":_vm.register}},[_vm._v(\"注册\")]),_c('el-button',{on:{\"click\":function($event){_vm.showLogin=true;_vm.showRegister=false;_vm.clearData();}}},[_vm._v(\"已有账号\")]),_c('span',[_vm._v(\"登录注册即代表同意i瓜大《用户协议》和《隐私协议》\")])],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bottom-info\"},[_c('p',[_vm._v(\"i瓜大开发团队,联系电话:18322805616\")]),_c('p',[_vm._v(\"团队成员:刘智宇,康弘,卜欣阳,董保朔,冶小东\")]),_c('p',[_vm._v(\"地址:西北工业大学长安校区\")]),_c('p',[_vm._v(\"版权所有 © i瓜大开发团队\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"back\">\r\n        <!-- 导航条 -->\r\n        <div class=\"nav\">\r\n            <img :src=\"require('../assets/img/logo.png')\"/>\r\n            <div v-if=\"$store.state.hasLogin==false\">\r\n                <span class=\"click\" @click=\"showLogin=true;showRegister=false;\">登录</span>\r\n                <span>&nbsp;&nbsp;或&nbsp;&nbsp;</span>\r\n                <span class=\"click\" @click=\"showRegister=true;showLogin=false;\">注册</span>\r\n            </div>\r\n            <div v-else>\r\n                <span>欢迎您!{{userName}}</span>\r\n                <span class=\"click\" @click=\"logout()\">&nbsp;&nbsp;退出登录</span>\r\n            </div>\r\n        </div>\r\n        <!-- 菜单内容 -->\r\n        <div class=\"content\">\r\n            <div class=\"clearfix\">\r\n                <div class=\"menu-child\">\r\n                    <i class=\"el-icon-user-solid\"></i>\r\n                    <h2>个人主页</h2>\r\n                    <p>包含个人信息，预约信息等信息，提供预约校车，留言反馈，查看校车班次等服务</p>\r\n                    <el-button type=\"primary\" @click=\"goto('/user/userInfo')\">点击进入</el-button>\r\n                </div>\r\n                <div class=\"menu-child\">\r\n                    <i class=\"el-icon-s-promotion\"></i>\r\n                    <h2>预约校车</h2>\r\n                    <p>可进行查询当前可预约校车，校车剩余座位，预约校车等操作</p>\r\n                    <el-button type=\"primary\" @click=\"goto('/user/busTime')\">点击进入</el-button>\r\n                </div>\r\n                <div class=\"menu-child\">\r\n                    <i class=\"el-icon-message-solid\"></i>\r\n                    <h2>留言反馈</h2>\r\n                    <p>留下您宝贵的意见，您的建议是我们不断前进的最大动力！</p>\r\n                    <el-button type=\"primary\">点击进入</el-button>\r\n                </div>\r\n                <div class=\"menu-child\">\r\n                    <i class=\"el-icon-s-platform\"></i>\r\n                    <h2>管理系统</h2>\r\n                    <p>具有管理员权限的用户可以进入后台对用户，校车班次表等进行管理</p>\r\n                    <el-button type=\"primary\" @click=\"goto('/manager/busManage')\">点击进入</el-button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- 通知和班车表 -->\r\n        <div class=\"info clearfix\">\r\n            <div class=\"time\">\r\n                <h2>今日校车排班</h2>\r\n                <el-table :data=\"times\" :row-class-name=\"tableRowClassName\" max-height=\"300\" :header-cell-style=\"{background:'#F1F7FF'}\" v-loading=\"timeLoading\">\r\n                    <el-table-column prop=\"time\" label=\"出发时间\" width=\"180\"></el-table-column>\r\n                    <el-table-column prop=\"start\" label=\"出发车站\" width=\"100\"></el-table-column>\r\n                    <el-table-column prop=\"end\" label=\"目的车站\" width=\"100\"></el-table-column>\r\n                    <el-table-column prop=\"number\" label=\"剩余空位\" width=\"100\"></el-table-column>\r\n                </el-table>\r\n            </div>\r\n            <div class=\"notice\">\r\n                <h2>公告通知</h2>\r\n                <el-carousel indicator-position=\"outside\" height=\"270px\" v-loading=\"noticeLoading\">\r\n                    <el-carousel-item v-for=\"notice in notices\" :key=\"notice.id\">\r\n                        <h3 class=\"notice-title\">{{notice.title}}</h3>\r\n                        <p class=\"notice-content\">&nbsp;&nbsp;&nbsp;&nbsp;{{notice.content}}</p>\r\n                    </el-carousel-item>\r\n                </el-carousel>\r\n            </div>\r\n        </div>\r\n        <!-- 底部 -->\r\n        <div class=\"bottom\">\r\n            <div class=\"bottom-logo\">\r\n                <img class=\"logo2\" :src=\"require('../assets/img/logo2.png')\"/>\r\n            </div>\r\n            <div class=\"line\"></div>\r\n            <div class=\"bottom-info\">\r\n                <p>i瓜大开发团队,联系电话:18322805616</p>\r\n                <p>团队成员:刘智宇,康弘,卜欣阳,董保朔,冶小东</p>\r\n                <p>地址:西北工业大学长安校区</p>\r\n                <p>版权所有 © i瓜大开发团队</p>\r\n            </div>\r\n            <div class=\"bottom-logo2\">\r\n                <img class=\"logo3\" :src=\"require('../assets/img/logo3.png')\"/>\r\n            </div>\r\n        </div>\r\n        <!-- 登录框 -->\r\n        <el-dialog :visible.sync=\"showLogin\" width=\"30%\" center :close-on-click-modal='false' :before-close=\"beforeClose\" :lock-scroll=\"false\">\r\n            <div class=\"login\">\r\n                <h2>登录账号</h2>\r\n                <el-input prefix-icon=\"el-icon-user\" v-model=\"userName\" placeholder=\"请输入用户名\" maxlength=\"16\"></el-input>\r\n                <el-input prefix-icon=\"el-icon-lock\" v-model=\"password\" placeholder=\"请输入密码\"  show-password maxlength=\"16\"></el-input>\r\n                <p class=\"forget click\" @click=\"goto('/reset')\">忘记密码？</p>\r\n                <p>{{loginError}}</p>\r\n                <el-button type=\"primary\" @click=\"login\">登录</el-button>\r\n                <el-button @click=\"showRegister=true;showLogin=false;clearData();\">注册账号</el-button>\r\n                <span>登录注册即代表同意i瓜大《用户协议》和《隐私协议》</span>\r\n            </div>\r\n        </el-dialog>\r\n        <el-dialog :visible.sync=\"showRegister\" width=\"30%\" center :close-on-click-modal='false' :before-close=\"beforeClose\" :lock-scroll=\"false\">\r\n            <div class=\"register\">\r\n                <h2>注册账号</h2>\r\n                <el-input prefix-icon=\"el-icon-user\" v-model=\"userName\" placeholder=\"请输入用户名\" maxlength=\"16\"></el-input>\r\n                <el-input prefix-icon=\"el-icon-s-promotion\" v-model=\"userId\" placeholder=\"请输入学工号\" maxlength=\"16\"></el-input>\r\n                <el-input prefix-icon=\"el-icon-message\" v-model=\"email\" placeholder=\"请输入邮箱\" maxlength=\"16\"></el-input>\r\n                <el-input prefix-icon=\"el-icon-lock\" v-model=\"registerPassword\" placeholder=\"请输入密码\"  show-password maxlength=\"16\"></el-input>\r\n                <el-input prefix-icon=\"el-icon-lock\" v-model=\"passwordAgain\" placeholder=\"请再次输入密码\"  show-password maxlength=\"16\"></el-input>\r\n                <p>{{registerError}}</p>\r\n                <el-button type=\"warning\" @click=\"register\">注册</el-button>\r\n                <el-button @click=\"showLogin=true;showRegister=false;clearData();\">已有账号</el-button>\r\n                <span>登录注册即代表同意i瓜大《用户协议》和《隐私协议》</span>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { JSEncrypt } from 'jsencrypt'\r\nlet encryptor = new JSEncrypt();\r\nexport default {\r\n    data(){\r\n        return{\r\n            userName:'',\r\n            password:'',\r\n            registerPassword:'',\r\n            passwordAgain:'',\r\n            email:'',\r\n            userId:'',\r\n            showLogin:false,\r\n            showRegister:false,\r\n            loginError:'',\r\n            registerError:'',\r\n            timeLoading:true,\r\n            noticeLoading:true,\r\n            notices:[\r\n            ],\r\n            times:[\r\n            ]\r\n        }\r\n    },\r\n    methods:{\r\n        goto(path){\r\n            let cango = true;\r\n            if(path.indexOf('/user') == 0){\r\n                if(this.$store.state.hasLogin==false){\r\n                    this.showLogin = true;\r\n                    cango = false;\r\n                }\r\n            }else if(path.indexOf('/manager') == 0){\r\n                if(this.$store.state.isManager==false){\r\n                    this.$message.error('您无管理员权限!');\r\n                    cango = false;\r\n                }\r\n            }\r\n            if(cango){\r\n                this.$router.push({\r\n                    path:path\r\n                })\r\n            }\r\n        },\r\n        tableRowClassName({row, rowIndex}){\r\n            return 'row';\r\n        },\r\n        logout(){\r\n            this.$axios({\r\n                method:'POST',\r\n                url:'/logout'\r\n            }).then(res=>{\r\n                let data = res.data;\r\n                if(data.status===1){\r\n                    this.userName = '';\r\n                    this.$store.state.hasLogin = false;\r\n                    this.$store.state.isManager = false;\r\n                    this.$store.state.userName = '';\r\n                    this.$store.state.email = '';\r\n                    this.$store.state.userId = '';\r\n                    localStorage.clear();\r\n                    this.clearData();\r\n                }\r\n            })\r\n        },\r\n        login(){\r\n            if(this.userName==''||this.password==''){\r\n                this.loginError=\"输入为空!\";\r\n            }else{\r\n                encryptor.setPublicKey(this.$store.state.publicKey);\r\n                //console.log(encryptor.encrypt(this.password));\r\n                this.$axios({\r\n                    method:'POST',\r\n                    url:'/login',\r\n                    data:{\r\n                        userName:this.userName,\r\n                        password:this.password,\r\n                        // password:encryptor.encrypt(this.password)\r\n                    },\r\n                }).then(res=>{\r\n                    let data = res.data;\r\n                    if(data.status===1){\r\n                        this.userName = data.user.userName;\r\n                        this.$store.dispatch(\"setUserName\",data.user.userName);\r\n                        this.$store.dispatch(\"setHasLogin\",true);\r\n                        this.$store.dispatch(\"setIsManager\",data.user.isManager);\r\n                        this.$store.dispatch(\"setEmail\",data.user.email);\r\n                        this.$store.dispatch(\"setUserId\",data.user.userId);\r\n                        this.clearData();\r\n                        this.showLogin = false;\r\n                    }else if(data.status==0){\r\n                        this.loginError = '登录失败,用户名或密码错误';\r\n                    }else{\r\n                        this.loginError = '您的已账户被封禁，禁止登录';\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        register(){\r\n            if(this.userName==''||this.userId==''||this.email==''||this.registerPassword==''||this.passwordAgain==''){\r\n                this.registerError=\"输入不能为空!\";\r\n            }else if(this.checkEmail(this.email)==false){\r\n                this.registerError=\"邮箱格式不正确!\";\r\n            }else if(this.registerPassword!=this.passwordAgain){\r\n                this.registerError=\"两次输入的密码不一致\";\r\n            }else{\r\n                encryptor.setPublicKey(this.$store.state.publicKey);\r\n                this.$axios({\r\n                    method:'POST',\r\n                    url:'/register',\r\n                    data:{\r\n                        userName:this.userName,\r\n                        password:this.registerPassword,\r\n                        // password:encryptor.encrypt(this.registerPassword),\r\n                        email:this.email,\r\n                        userId:this.userId\r\n                    }\r\n                }).then(res=>{\r\n                    let data = res.data;\r\n                    if(data.status==0){\r\n                        this.registerError = '注册失败,该账户已被注册';\r\n                    }else{\r\n                        this.userName = data.userName;\r\n                        this.$store.dispatch(\"setUserName\",data.user.userName);\r\n                        this.$store.dispatch(\"setHasLogin\",true);\r\n                        this.$store.dispatch(\"setIsManager\",data.user.isManager);\r\n                        this.$store.dispatch(\"setEmail\",data.user.email);\r\n                        this.$store.dispatch(\"setUserId\",data.user.userId);\r\n                        this.clearData();\r\n                        this.showRegister = false;\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        beforeClose(done){\r\n            this.userName = '';\r\n            this.clearData();\r\n            done();\r\n        },\r\n        clearData(){\r\n            this.registerError='';\r\n            this.loginError='';\r\n            this.password='';\r\n            this.registerPassword='';\r\n            this.passwordAgain='';\r\n            this.email='';\r\n            this.userId='';\r\n        },\r\n        checkEmail(value) {\r\n            return /^[A-Za-z\\d]+([-_.][A-Za-z\\d]+)*@([A-Za-z\\d]+[-.])+[A-Za-z\\d]{2,4}$/.test(value);\r\n        }\r\n    },\r\n    mounted(){\r\n        this.userName = this.$store.state.userName;\r\n        this.$axios({\r\n            method:'GET',\r\n            url:'/getTodayTimes',\r\n        }).then(res=>{\r\n            let data = res.data;\r\n            this.times = data;\r\n            this.timeLoading = false;\r\n        });\r\n        this.$axios({\r\n            method:'GET',\r\n            url:'/getNoitces'\r\n        }).then(res=>{\r\n            let data = res.data;\r\n            this.notices = data;\r\n            this.noticeLoading = false;\r\n        });\r\n        if(this.$store.state.status==1){\r\n            this.$message.error(\"您的session已经失效,请重新登录!\");\r\n            this.$store.state.status=0;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.back{\r\n    background-color: #F7F8FA;\r\n}\r\n/* 导航栏部分 */\r\n.nav{\r\n    background-color: #FFFFFF;\r\n    height: 50px;\r\n    border-bottom: 1px solid #DCDFE6;\r\n}\r\n.nav > img{\r\n    margin-top: 5px;\r\n    margin-left: 16%;\r\n    width: 200px;\r\n    height: 40px;\r\n    float: left;\r\n}\r\n.nav > div{\r\n    margin-left: 700px;\r\n    margin-top: 16px;\r\n    float: left;\r\n}\r\n.nav span{\r\n    color: #595959;\r\n}\r\n.click{\r\n    cursor:pointer;\r\n}\r\n/* 通知和班车表部分 */\r\n.info{\r\n    padding-top: 20px;\r\n    padding-bottom: 20px;\r\n    background-color: #F1F7FF;\r\n}\r\n.info>div{\r\n    width: 500px;\r\n    float: left;\r\n}\r\n.time{\r\n    margin-left: 260px;\r\n    margin-right: 10px;\r\n}\r\n.notice > h2,.time > h2{\r\n    color: #4C77B6;\r\n    margin-bottom: 10px;\r\n}\r\n.notice-title{\r\n    text-align: center;\r\n    margin: 0 auto;\r\n}\r\n.el-table{\r\n    background-color: #F1F7FF;\r\n}\r\n/* 菜单选项部分 */\r\n.content{\r\n    width: 80%;\r\n    margin: 0 auto;\r\n    margin-top: 20px;\r\n}\r\n.menu-child{\r\n    margin-left: 80px;\r\n    width: 200px;\r\n    float: left;\r\n}\r\n.menu-child>i{\r\n    width: 140px;\r\n    margin: 0 auto;\r\n    font-size: 140px;\r\n    color:#406DA4;\r\n    display: block;\r\n}\r\n.menu-child>h2{\r\n    width: 100px;\r\n    margin: 0 auto;\r\n    color: #656565;\r\n    margin-top: 10px;\r\n    margin-bottom: 10px;\r\n}\r\n.menu-child > .el-button{\r\n    margin-top: 10px;\r\n    margin-bottom: 10px;\r\n    margin-left: 50px;\r\n}\r\n/* 底部部分 */\r\n.bottom{\r\n    height: 200px;\r\n    background-color: #0C1D42;\r\n}\r\n.bottom > div{\r\n    float: left;\r\n}\r\n.line{\r\n    margin-top: 20px;\r\n    height: 80%;\r\n    width: 1px;\r\n    background-color: #8F97A7;\r\n}\r\n.bottom p{\r\n    color: #8F97A7;\r\n    font-size: 12px;\r\n    margin-bottom: 10px;\r\n}\r\n.bottom-logo{\r\n    margin-left: 100px;\r\n    margin-top: 40px;\r\n    margin-right: 20px;\r\n}\r\n.logo2{\r\n    width: 120px;\r\n    height: 120px;\r\n}\r\n.bottom-info{\r\n    width: 600px;\r\n    margin-left: 20px;\r\n    margin-top: 50px;\r\n}\r\n.bottom-logo2{\r\n    margin-left: 280px;\r\n    margin-top: 60px;\r\n}\r\n.logo3{\r\n    width: 300px;\r\n    height: 72px;\r\n}\r\n/* 登录/注册对话框 */\r\n.login .el-input,.register .el-input{\r\n    display: block;\r\n    width: 80%;\r\n    margin: 10px auto;\r\n}\r\n.login h2,.register h2{\r\n    font-size: 24px;\r\n}\r\n.login p:not(.forget),.register p{\r\n    margin-left: 10%;\r\n    color: red;\r\n    margin-bottom: 10px;\r\n}\r\n.forget{\r\n    margin-left: 10%;\r\n    color: #969B9F;\r\n}\r\n.login .el-button,.register .el-button{\r\n    width: 80%;\r\n    margin-left: 10%;\r\n    margin-bottom: 10px;\r\n}\r\n.login span,.register span{\r\n    margin-left: 10%;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=7237cd80&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=7237cd80&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7237cd80\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","$store","state","hasLogin","on","$event","showLogin","showRegister","_v","_s","userName","logout","goto","directives","name","rawName","value","expression","times","tableRowClassName","background","_l","notice","key","id","title","content","_m","beforeClose","model","callback","$$v","password","loginError","login","clearData","userId","email","registerPassword","passwordAgain","registerError","register","staticRenderFns","encryptor","timeLoading","noticeLoading","notices","methods","cango","path","row","method","url","then","res","localStorage","data","checkEmail","component"],"sourceRoot":""}